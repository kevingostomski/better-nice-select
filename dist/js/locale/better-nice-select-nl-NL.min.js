/*!
 * 
 * Better-Nice-Select v1.0.0 (https://github.com/kevingostomski/better-nice-select)
 * Copyright 2024 Kevin Gostomski <kevingostomski2001@gmail.com>
 * Licensed under MIT (https://github.com/kevingostomski/better-nice-select/blob/main/LICENSE)
 *
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("betterNiceSelect",[],t):"object"==typeof exports?exports.betterNiceSelect=t():e.betterNiceSelect=t()}(this,(()=>(()=>{"use strict";var e={d:(t,n)=>{for(var l in n)e.o(n,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:n[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{BetterNiceSelect:()=>x,DEFAULTS:()=>w,LOCALISATION:()=>A});const n={formatSearch:()=>"Search...",formatHelpForTagging:()=>"To create your own tags, focus on the input field and click one of the following buttons to create the object:",formatAlertOptiongroups:()=>"Please wait...\nThe option groups are still getting loaded...",formatLoadingMessage:()=>"Loading",formatCheckingMessage:()=>"Checking"},l={CLASSES:{mainContainer:["better-nice-select"],deleteContainer:["delete-container"],deleteContainerList:["delete-list"],deleteItem:["delete-item"],deleteButton:["delete"],deleteButtonOptionText:["opt-text"],addContainer:["add-container"],addButton:["add"],overlayContainer:["better-nice-select-overlay"],overlayContainerWrapper:["better-nice-select-closer"],searchContainer:["search-container"],searchGlowEffect:["search-container-glow"],searchInputWrapper:["search-input-container"],searchHintInput:["hint"],searchOptGroupHint:["search-optgroup-hint"],searchOptGroupSelected:["search-optgroup-selected"],searchIcon:["search-icon"],tagIcon:["tag-icon"],searchHr:["hr"],searchHrFocus:["focus-border"],searchList:["search-list"],searchListItem:["search-list-item"],searchListItemText:["search-list-item-text"],searchListItemBadge:["search-list-item-badge"]},LOCALISATION:{en:n,"en-US":n},DEFAULT:{animation:!0,multiple:!1,disabled:!1,customSearch:void 0,customOptiongroupLabels:void 0,tags:!1,customTagCheck:void 0,tokenSeparators:["Enter"],locale:"en-US",scrollable:{on:!1,height:void 0},icons:{search:'<svg class="better-nice-select-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\x3c!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--\x3e<path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/></svg>',delete:'<svg class="better-nice-select-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\x3c!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--\x3e<path d="M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"/></svg>',add:'<svg class="better-nice-select-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\x3c!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--\x3e<path d="M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"/></svg>',tag:'<svg class="better-nice-select-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\x3c!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--\x3e<path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24V264c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"/></svg>'},inputDelay:400}},i=new Map,o={set(e,t,n){i.has(e)||i.set(e,new Map);const l=i.get(e);l.has(t)||0===l.size?l.set(t,n):console.error(`Better-Nice-Select doesn't allow more than one instance per element. Bound instance: ${Array.from(l.keys())[0]}.`)},findElement(e,t){for(let n of i)if(n[1].has(e)&&n[1].get(e)===t)return n[0]},get:(e,t)=>i.has(e)&&i.get(e).get(t)||null,remove(e,t){if(!i.has(e))return;const n=i.get(e);n.delete(t),0===n.size&&i.delete(e)}},r={htmlToElement(e){var t=document.createElement("template");return e=e.trim(),t.innerHTML=e,t.content.firstChild},htmlToElements(e){var t=document.createElement("template");return e=e.trim(),t.innerHTML=e,t.content.childNodes},executeFunctionByName(e,t,...n){let l=e.split("."),i=l.pop();for(let e=0;e<l.length;e++)t=t[l[e]];return t[i].apply(t,n)},debounce(e,t){let n;return(...l)=>{clearTimeout(n),n=setTimeout((function(){e(...l)}),t)}}};var s,a,c,d,u,p,m,h,b,f,g,v,S,y,L=function(e,t,n,l){return new(n||(n=Promise))((function(i,o){function r(e){try{a(l.next(e))}catch(e){o(e)}}function s(e){try{a(l.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}a((l=l.apply(e,t||[])).next())}))},E=function(e,t,n,l){if("a"===n&&!l)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!l:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?l:"a"===n?l.call(e):l?l.value:t.get(e)},C=function(e,t,n,l,i){if("m"===l)throw new TypeError("Private method is not writable");if("a"===l&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===l?i.call(e,n):i?i.value=n:t.set(e,n),n};const w=Object.create(l.DEFAULT),A=Object.create(l.LOCALISATION);a=new WeakMap,c=new WeakMap,d=new WeakMap,s=new WeakSet,u=function(){return L(this,void 0,void 0,(function*(){let e=this.customOptiongroupLabels instanceof Function||"function"==typeof this.customOptiongroupLabels?this.customOptiongroupLabels():r.executeFunctionByName(this.customOptiongroupLabels,window);yield Promise.resolve(e).then((e=>{E(this,d,"f").possibleOptGroupLabels=e}))}))},p=function(e,t,n){return L(this,void 0,void 0,(function*(){let n=this.customSearch instanceof Function||"function"==typeof this.customSearch?this.customSearch(e,t):r.executeFunctionByName(this.customSearch,window,e,t);yield Promise.resolve(n).then((e=>{E(this,d,"f").items=e}))}))},m=function(e){let t=document.querySelector(".better-nice-select-overlay .search-container ul");t&&(t.innerHTML="");for(let n of E(this,d,"f").items){const i=new CustomEvent("inserted.better-nice-select",{detail:{key:n.id,value:n.text}});let o=document.createElement("li");o.classList.add(...l.CLASSES.searchListItem);let c=document.createElement("span");if(c.classList.add(...l.CLASSES.searchListItemText),c.innerHTML=n.text,o.appendChild(c),o.tabIndex=-1,o.setAttribute("data-id",n.id),n.label){let e=document.createElement("span");e.classList.add(...l.CLASSES.searchListItemBadge),e.appendChild(r.htmlToElement(`<span class="badge">${n.label}</span>`)),o.appendChild(e)}let d=this;o.addEventListener("click",(function(){if(!d.multiple){let t=e.nextElementSibling.querySelector(".better-nice-select .delete-list").getElementsByTagName("li");for(let e=0;e<t.length;e++)t[e].remove();let n=e.querySelector("option[selected]");n&&n.removeAttribute("selected")}let t=e.querySelector(`option[value='${this.getAttribute("data-id")}']`);if(t||(t=document.createElement("option"),t.value=n.id,t.innerText=n.text,n.label&&e.querySelector(`optgroup[label="${n.label}"]`)?e.querySelector(`optgroup[label="${n.label}"]`).appendChild(t):e.appendChild(t)),t.setAttribute("selected","selected"),E(d,s,"m",f).call(d),e.nextElementSibling.querySelector(`.better-nice-select .delete-list button[data-id='${n.id}']`))return;let l=E(d,s,"m",h).call(d,n.id,n.text,n.label?n.label:void 0,!!n.disabled&&n.disabled,e);if(n.label){let t=e.nextElementSibling.querySelector(`.better-nice-select .delete-list h5[data-optgroup=${n.label}]`);t||(t=document.createElement("h5"),t.innerHTML=n.label,t.setAttribute("data-optgroup",n.label),e.nextElementSibling.querySelector(".better-nice-select .delete-list").appendChild(t)),t.insertAdjacentElement("afterend",l)}else e.nextElementSibling.querySelector(".better-nice-select .delete-list").appendChild(l);e.dispatchEvent(i)})),o.addEventListener("keydown",(function(e){var t,n,l,i;e.preventDefault();let o=document.querySelectorAll(".better-nice-select-overlay .search-container ul li:not(.hidden)");"ArrowDown"===e.key&&(E(d,a,"f")+1>=o.length?C(d,a,0,"f"):C(t=d,a,(n=E(t,a,"f"),++n),"f"),o[E(d,a,"f")].tabIndex=0,o[E(d,a,"f")].focus(),this.tabIndex=-1),"ArrowUp"===e.key&&(E(d,a,"f")-1<0?C(d,a,o.length-1,"f"):C(l=d,a,(i=E(l,a,"f"),--i),"f"),o[E(d,a,"f")].tabIndex=0,o[E(d,a,"f")].focus(),this.tabIndex=-1),"Tab"===e.key&&document.querySelector(".better-nice-select-overlay .search-container input").focus(),"Enter"===e.key&&this.click()})),o.addEventListener("focusin",(function(){let e=document.querySelector(".better-nice-select-overlay .search-container input"),t=document.querySelector(".better-nice-select-overlay .search-container input.hint");e.value=n.text,t.value=n.text})),t.appendChild(o)}},h=function(e,t,n,i,o){const r=new CustomEvent("removed.better-nice-select",{detail:{key:e,value:t}});let s=document.createElement("li");s.classList.add(...l.CLASSES.deleteItem);let a=document.createElement("div");a.classList.add(...l.CLASSES.deleteButtonOptionText),a.innerText=t,s.appendChild(a);let c=document.createElement("button");c.classList.add(...l.CLASSES.deleteButton),c.setAttribute("type","button"),c.setAttribute("data-id",e),(i||this.disabled)&&c.setAttribute("disabled","disabled");let u=document.createElement("span");"string"==typeof this.icons.delete?u.insertAdjacentHTML("beforeend",this.icons.delete):u.insertAdjacentElement("beforeend",this.icons.delete),c.appendChild(u),s.appendChild(c);let p=this;return c.addEventListener("click",(function(){o.querySelector(`option[value='${this.getAttribute("data-id")}']`).removeAttribute("selected"),this.parentElement.previousElementSibling&&"H5"===this.parentElement.previousElementSibling.tagName.toUpperCase()&&(this.parentElement.nextElementSibling&&"H5"===this.parentElement.nextElementSibling.tagName.toUpperCase()||!this.parentElement.nextElementSibling)&&this.parentElement.previousElementSibling.remove(),this.parentElement.remove(),p.multiple||0!==o.nextElementSibling.querySelectorAll(".better-nice-select .delete-list li").length||(o.selectedIndex=-1),void 0!==p.customSearch||E(p,d,"f").items.map((e=>e.id.toLowerCase())).includes(e.toLowerCase())||E(p,d,"f").items.push(n?{id:e,text:t,label:n,disabled:i}:{id:e,text:t,disabled:i}),o.dispatchEvent(r)})),s},b=function(){this.animation?document.querySelector(".better-nice-select-overlay").classList.add("animate-in"):document.querySelector(".better-nice-select-overlay").classList.add("active")},f=function(){document.querySelector(".better-nice-select-overlay")&&(document.querySelector(".better-nice-select-overlay .search-container ul").classList.remove("active"),document.querySelector(".better-nice-select-overlay .search-container").classList.remove("optgroup-selected","to-many-options"),this.animation?(document.querySelector(".better-nice-select-overlay").classList.add("animate-out"),setTimeout((function(){document.querySelector("body").removeChild(document.querySelector(".better-nice-select-overlay"))}),500)):(document.querySelector(".better-nice-select-overlay").classList.remove("active"),document.querySelector("body").removeChild(document.querySelector(".better-nice-select-overlay"))))},g=function(){let e=document.createElement("div");e.classList.add(...l.CLASSES.searchOptGroupHint);let t=document.createElement("div");t.classList.add("icon"),t.innerHTML="&#8679;";let n=document.createElement("div");return n.classList.add("icon"),n.innerText="Tab",e.appendChild(t),e.appendChild(n),e},v=function(){let e=document.querySelector(".better-nice-select-overlay .search-container");e&&(e.classList.remove("to-many-options"),e.classList.contains("optgroup-selected")&&e.classList.remove("optgroup-selected"),e.offsetHeight,e.classList.add("optgroup-selected"))},S=function(){let e=document.querySelector(".better-nice-select-overlay .search-container");e&&(e.classList.remove("optgroup-selected"),e.classList.contains("to-many-options")&&e.classList.remove("to-many-options"),e.offsetHeight,e.classList.add("to-many-options"))},y=function(e){let t=this,n=document.createElement("div");n.classList.add(...l.CLASSES.overlayContainer);let i=document.createElement("div");i.classList.add(...l.CLASSES.overlayContainerWrapper),i.addEventListener("click",(function(e){(e&&e.target)==this&&E(t,s,"m",f).call(t)}));let o=document.createElement("div");o.classList.add(...l.CLASSES.searchContainer);let u=document.createElement("div");u.classList.add(...l.CLASSES.searchInputWrapper);let b=document.createElement("span");b.classList.add(...l.CLASSES.searchIcon),"string"==typeof t.icons.search?b.insertAdjacentHTML("beforeend",t.icons.search):b.insertAdjacentElement("beforeend",t.icons.search);let y=document.createElement("input");y.setAttribute("placeholder",A[t.locale].formatSearch()),u.appendChild(b),u.appendChild(y);let w=document.createElement("input");if(w.classList.add(...l.CLASSES.searchHintInput),u.appendChild(w),t.tags){let e=document.createElement("span");e.classList.add(...l.CLASSES.tagIcon),"string"==typeof t.icons.tag?e.insertAdjacentHTML("beforeend",t.icons.tag):e.insertAdjacentElement("beforeend",t.icons.tag);let n=document.createElement("span");n.classList.add("tooltip-own"),e.appendChild(n);let i=t.tokenSeparators.indexOf(" "),o=t.tokenSeparators.slice();i>-1&&(o.splice(i,1),o.push("Spacebar")),n.append(...r.htmlToElements(`${A[t.locale].formatHelpForTagging()}<br/>${o.join("<br/>")}`)),u.appendChild(e)}0!==E(t,d,"f").possibleOptGroupLabels.length&&u.appendChild(E(t,s,"m",g).call(t)),o.appendChild(u);let x=document.createElement("span");x.classList.add(...l.CLASSES.searchHrFocus),o.appendChild(x);let k=document.createElement("span");k.classList.add(...l.CLASSES.searchHr),o.appendChild(k);let q=document.createElement("ul");q.classList.add(...l.CLASSES.searchList),o.appendChild(q);let T=document.createElement("div");T.classList.add("loading-wrapper");let O=document.createElement("div");O.classList.add("loading");let H=document.createElement("span");H.innerText=A[t.locale].formatLoadingMessage(),T.appendChild(H),T.appendChild(O),o.appendChild(T),i.appendChild(o),n.appendChild(i),document.querySelector("body").appendChild(n),y.addEventListener("input",r.debounce((function(){!function(n,l,i,o){L(this,void 0,void 0,(function*(){if(document.querySelector(".better-nice-select-overlay .search-container ul").classList.remove("active"),o.classList.add("active"),i.value="",0===n.length)return o.classList.remove("active"),void(document.querySelector(".better-nice-select-overlay .search-container ul").innerHTML="");let r,a=document.querySelector(".better-nice-select-overlay .search-container .search-optgroup-selected");if(void 0!==t.customSearch){if(yield E(t,s,"m",p).call(t,n,a?a.getAttribute("data-optgroup"):null,e),0===l.value.length)return;E(t,s,"m",m).call(t,e),r=E(t,d,"f").items.find((e=>e.text.toLowerCase().startsWith(n.toLowerCase())))}else{E(t,s,"m",m).call(t,e);let l=document.querySelector(".better-nice-select-overlay .search-container ul").getElementsByTagName("li");for(let e=0;e<l.length;e++)a&&l[e].querySelector(".badge").textContent!==a.getAttribute("data-optgroup")?l[e].classList.add("hidden"):l[e].firstChild.textContent.toLowerCase().indexOf(n.toLowerCase())>-1?(!r&&l[e].firstChild.textContent.toLowerCase().startsWith(n.toLowerCase())&&(r=E(t,d,"f").items.find((t=>t.id===l[e].getAttribute("data-id")))),l[e].classList.remove("hidden")):l[e].classList.add("hidden")}r&&(i.value=`${l.value}${r.text.substring(l.value.length)}`),o.classList.remove("active"),document.querySelector(".better-nice-select-overlay .search-container ul").classList.add("active")}))}(y.value.trim(),y,w,T)}),t.inputDelay)),y.addEventListener("keydown",(function(n){return L(this,void 0,void 0,(function*(){var i,o;let u=function(l){return L(this,void 0,void 0,(function*(){const i=new CustomEvent("inserted.better-nice-select",{detail:{key:l,value:l}});if(t.tokenSeparators.includes(n.key)){p=!0,document.querySelector(".better-nice-select-overlay .search-container ul").classList.remove("active");let n=document.querySelector(".better-nice-select-overlay .search-container .loading-wrapper");n.firstChild.textContent=A[t.locale].formatCheckingMessage(),n.classList.add("active"),yield Promise.resolve(t.customTagCheck instanceof Function||"function"==typeof t.customTagCheck?t.customTagCheck(l):"string"!=typeof t.customTagCheck||r.executeFunctionByName(t.customTagCheck,window,l)).then((o=>{if(!o)return console.error(`Can not create option with value '${l}' because of given check function...`),void E(t,s,"m",f).call(t);let r;if(0!==E(t,d,"f").possibleOptGroupLabels.length){let e=document.querySelector(".better-nice-select-overlay .search-container .search-optgroup-selected");if(!e)return E(t,s,"m",S).call(t),console.error(`Can not create option with value '${l}' because you need to select an optiongroup first...`),n.classList.remove("active"),n.firstChild.textContent=A[t.locale].formatLoadingMessage(),void document.querySelector(".better-nice-select-overlay .search-container ul").classList.add("active");r=e.getAttribute("data-optgroup")}let a=e.querySelector(`option[value='${l}']`);if(a||(a=document.createElement("option"),a.value=l,a.innerText=l,r&&e.querySelector(`optgroup[label="${r}"]`)?e.querySelector(`optgroup[label="${r}"]`).appendChild(a):e.appendChild(a)),a.setAttribute("selected","selected"),!e.nextElementSibling.querySelector(`.better-nice-select .delete-list button[data-id='${l}']`)){let n=E(t,s,"m",h).call(t,l,l,r||void 0,!1,e);if(r){let t=e.nextElementSibling.querySelector(`.better-nice-select .delete-list h5[data-optgroup=${r}]`);t||(t=document.createElement("h5"),t.innerHTML=r,t.setAttribute("data-optgroup",r),e.nextElementSibling.querySelector(".better-nice-select .delete-list").appendChild(t)),t.insertAdjacentElement("afterend",n)}else e.nextElementSibling.querySelector(".better-nice-select .delete-list").appendChild(n)}n.classList.remove("active"),E(t,s,"m",f).call(t),e.dispatchEvent(i)}))}}))},p=!1;if(t.tags&&(yield u(this.value.trim())),"Tab"===n.key&&!n.shiftKey||"ArrowDown"===n.key){n.preventDefault();let e=document.querySelectorAll(".better-nice-select-overlay .search-container ul li:not(.hidden)");e.length>0&&(e.forEach((e=>e.tabIndex=-1)),e[0].tabIndex=0,C(t,a,0,"f"),e[0].focus())}if("ArrowRight"===n.key&&n.target.selectionStart===this.value.length){let e=document.querySelector(".better-nice-select-overlay .search-container input.hint");if(e.value&&""!==e.value){n.preventDefault(),this.value=e.value;let t=document.querySelector(".better-nice-select-overlay .search-container ul").getElementsByTagName("li");for(let n=0;n<t.length;n++){t[n].firstChild.textContent.toLowerCase().indexOf(e.value.toLowerCase())>-1?t[n].classList.remove("hidden"):t[n].classList.add("hidden")}}}if(n.shiftKey&&"Tab"===n.key&&0!==E(t,d,"f").possibleOptGroupLabels.length){n.preventDefault(),this.value="",this.dispatchEvent(new Event("input",{bubbles:!0}));let e=document.querySelector(".better-nice-select-overlay .search-container .search-optgroup-selected");e||(e=document.createElement("div"),e.classList.add(...l.CLASSES.searchOptGroupSelected),document.querySelector(".better-nice-select-overlay .search-container .search-optgroup-hint").remove(),this.insertAdjacentElement("afterend",e)),E(t,c,"f")<E(t,d,"f").possibleOptGroupLabels.length?(e.innerText=E(t,d,"f").possibleOptGroupLabels[E(t,c,"f")],e.setAttribute("data-optgroup",E(t,d,"f").possibleOptGroupLabels[E(t,c,"f")]),C(i=t,c,(o=E(i,c,"f"),++o),"f")):(C(t,c,0,"f"),e.remove(),this.parentNode.appendChild(E(t,s,"m",g).call(t))),t.animation&&E(t,s,"m",v).call(t)}if("Enter"===n.key&&!p&&this.value&&""!==this.value){let e=document.querySelectorAll(".better-nice-select-overlay .search-container ul li:not(.hidden)");e&&1!==e.length&&t.animation&&(E(t,s,"m",S).call(t),console.error("To many possible <option> groups.... Please restrict further by tipping more in search input...")),e&&1===e.length&&e[0].click()}}))})),y.addEventListener("focusin",(function(){document.querySelector(".better-nice-select-overlay .search-container .focus-border").classList.add("active")})),y.addEventListener("focusout",(function(){document.querySelector(".better-nice-select-overlay .search-container .focus-border").classList.remove("active")}))};const x=class{constructor(e,t){let n;s.add(this),a.set(this,0),c.set(this,0),d.set(this,{items:[],possibleOptGroupLabels:[]}),n="string"==typeof e?document.querySelector(e):e,n.setAttribute("hidden","hidden");let i=function(e){let n=Object.create(w);if(t)for(let[e,l]of Object.entries(t))n[e]=l;if(e.hasAttribute("disabled")&&(n.disabled=!0),e.hasAttribute("multiple"))n.multiple=!0;else if(n.multiple=!1,!e.querySelector("option[selected]")){e.selectedIndex=-1;for(let t of e.options)t.selected=!1}return e.hasAttribute("data-input-delay")&&(n.inputDelay=Number(e.getAttribute("data-input-delay"))),e.hasAttribute("data-tags")&&(""===e.getAttribute("data-tags")?n.tags=!0:n.tags="true"===e.getAttribute("data-tags")),e.getAttribute("data-locale")&&(n.locale=e.getAttribute("data-locale")),e.getAttribute("data-custom-search")&&(n.customSearch=e.getAttribute("data-custom-search")),e.getAttribute("data-custom-optiongroup-labels")&&(n.customOptiongroupLabels=e.getAttribute("data-custom-optiongroup-labels")),e.getAttribute("data-custom-tag-check")&&(n.customTagCheck=e.getAttribute("data-custom-tag-check")),e.hasAttribute("data-scrollable-on")&&(""===e.getAttribute("data-scrollable-on")?n.scrollable.on=!0:n.scrollable.on="true"===e.getAttribute("data-scrollable-on"),n.scrollable.height=e.getAttribute("data-scrollable-height")),e.hasAttribute("data-animation")&&(""===e.getAttribute("data-animation")?n.animation=!0:n.animation="true"===e.getAttribute("data-animation")),e.getAttribute("data-token-separators")&&(n.tokenSeparators=JSON.parse(e.getAttribute("data-token-separators"))),e.getAttribute("data-icons")&&(n.tokenSeparators=JSON.parse(e.getAttribute("data-icons"))),n}(n);this.animation=i.animation,this.multiple=i.multiple,this.disabled=i.disabled,this.customSearch=i.customSearch,this.customOptiongroupLabels=i.customOptiongroupLabels,this.tags=i.tags,this.customTagCheck=i.customTagCheck,this.tokenSeparators=i.tokenSeparators,this.locale=i.locale,this.scrollable=i.scrollable,this.icons=i.icons,this.inputDelay=i.inputDelay;let r=document.createElement("div");r.classList.add(...l.CLASSES.mainContainer);let p=function(e,t){let n=document.createElement("ul");n.classList.add(...l.CLASSES.deleteContainerList),e.scrollable.on&&(n.classList.add("scrollable"),n.style.height=e.scrollable.height);let i=t.getElementsByTagName("optgroup");return 0!==i.length?function(){for(let l of i){let i=document.createElement("h5");i.innerHTML=l.label,i.setAttribute("data-optgroup",l.label),n.appendChild(i);for(let i of Array.from(l.children))i.selected&&n.appendChild(E(e,s,"m",h).call(e,i.value,i.innerText,l.label,i.disabled,t)),void 0===e.customSearch&&E(e,d,"f").items.push({id:i.value,text:i.innerText,label:l.label,disabled:i.disabled}),void 0===e.customOptiongroupLabels&&(E(e,d,"f").possibleOptGroupLabels.includes(l.label)||E(e,d,"f").possibleOptGroupLabels.push(l.label))}}():function(){for(let l of Array.from(t.children))l.selected&&n.appendChild(E(e,s,"m",h).call(e,l.value,l.innerText,void 0,l.disabled,t)),void 0===e.customSearch&&E(e,d,"f").items.push({id:l.value,text:l.innerText,disabled:l.disabled})}(),void 0!==e.customOptiongroupLabels&&E(e,s,"m",u).call(e),n}(this,n),m=function(e,t){let n=document.createElement("div");n.classList.add(...l.CLASSES.addContainer);let i=document.createElement("button");i.classList.add(...l.CLASSES.addButton),i.setAttribute("type","button"),e.disabled&&i.setAttribute("disabled","disabled"),i.addEventListener("click",(function(){if(void 0!==e.customOptiongroupLabels&&0===E(e,d,"f").possibleOptGroupLabels.length)return void alert(A[e.locale].formatAlertOptiongroups());E(e,s,"m",y).call(e,t),E(e,s,"m",b).call(e);let n=document.querySelector(".better-nice-select-overlay .search-container input");n.value="",n.focus()}));let o=document.createElement("span");return"string"==typeof e.icons.add?o.insertAdjacentHTML("beforeend",e.icons.add):o.insertAdjacentElement("beforeend",e.icons.add),i.appendChild(o),n.appendChild(i),n}(this,n),f=document.createElement("div");f.classList.add(...l.CLASSES.deleteContainer),f.appendChild(p),r.appendChild(m),r.appendChild(f),n.parentNode.insertBefore(r,n.nextSibling),o.set(n,"better-nice-select",this)}static getInstance(e){let t="string"==typeof e?document.querySelector(e):e;return o.get(t,"better-nice-select")}static getOrCreateInstance(e,t){return this.getInstance(e)||new this(e,t)}select(...e){if(0===e.length)return void console.error("No given option to select something for method 'select'. Please read the manual how to use the function...");let t=o.findElement("better-nice-select",this);if(t)for(let n of e){const e=new CustomEvent("inserted.better-nice-select",{detail:{key:n.id,value:n.text}});if(!this.multiple){let e=t.nextElementSibling.querySelector(".better-nice-select .delete-list").getElementsByTagName("li");for(let t=0;t<e.length;t++)e[t].remove();let n=t.querySelector("option[selected]");n&&n.removeAttribute("selected")}let l=t.querySelector(`option[value='${n.id}']`);if(l||(l=document.createElement("option"),l.value=n.id,l.innerText=n.text,n.label&&t.querySelector(`optgroup[label='${n.label}']`)?t.querySelector(`optgroup[label='${n.label}']`).appendChild(l):t.appendChild(l)),l.setAttribute("selected","selected"),t.nextElementSibling.querySelector(`.better-nice-select .delete-list button[data-id='${n.id}']`))continue;let i=E(this,s,"m",h).call(this,n.id,n.text,n.label?n.label:void 0,!!n.disabled&&n.disabled,t);if(n.label){let e=t.nextElementSibling.querySelector(`.better-nice-select .delete-list h5[data-optgroup=${n.label}]`);e||(e=document.createElement("h5"),e.innerHTML=n.label,e.setAttribute("data-optgroup",n.label),t.nextElementSibling.querySelector(".better-nice-select .delete-list").appendChild(e)),e.insertAdjacentElement("afterend",i)}else t.nextElementSibling.querySelector(".better-nice-select .delete-list").appendChild(i);t.dispatchEvent(e)}else console.error("Could not find <select> object during 'select'. Something is broken... Please report with a Github issue for seeking help or fix it yourself...")}selectAll(...e){return L(this,void 0,void 0,(function*(){if(!this.multiple)return void console.error("Method 'selectAll' should not be used for a <select> field without 'multiple' property because it does not make sense if you can only select one. Please use method 'select' instead...");if(e.length>2)return void console.error("Method 'selectAll' used wrong. Please read user manual...");let t=o.findElement("better-nice-select",this);if(t){this.customSearch&&(e.length>0?yield E(this,s,"m",p).call(this,e[0],e[1]?e[1]:"",t):yield E(this,s,"m",p).call(this,"","",t));for(let e of E(this,d,"f").items){const n=new CustomEvent("inserted.better-nice-select",{detail:{key:e.id,value:e.text}});let l=t.querySelector(`option[value='${e.id}']`);if(l||(l=document.createElement("option"),l.value=e.id,l.innerText=e.text,e.label&&t.querySelector(`optgroup[label="${e.label}"]`)?t.querySelector(`optgroup[label="${e.label}"]`).appendChild(l):t.appendChild(l)),l.setAttribute("selected","selected"),t.nextElementSibling.querySelector(`.better-nice-select .delete-list button[data-id='${e.id}']`))continue;let i=E(this,s,"m",h).call(this,e.id,e.text,e.label?e.label:void 0,!!e.disabled&&e.disabled,t);if(e.label){let n=t.nextElementSibling.querySelector(`.better-nice-select .delete-list h5[data-optgroup=${e.label}]`);n||(n=document.createElement("h5"),n.innerHTML=e.label,n.setAttribute("data-optgroup",e.label),t.nextElementSibling.querySelector(".better-nice-select .delete-list").appendChild(n)),n.insertAdjacentElement("afterend",i)}else t.nextElementSibling.querySelector(".better-nice-select .delete-list").appendChild(i);t.dispatchEvent(n)}}else console.error("Could not find <select> object during 'selectAll'. Something is broken... Please report with a Github issue for seeking help or fix it yourself...")}))}deselect(...e){if(0===e.length)return void console.error("No given option to deselect something for method 'deselect'. Please read the manual how to use the function...");let t=o.findElement("better-nice-select",this);if(t)for(let n of e){let e=t.nextElementSibling.querySelector(`.better-nice-select .delete-list li button[data-id='${n}']`);e?e.click():console.error(`Could not deselect given option "${n}", because could not trigger click event for respective delete button...`)}else console.error("Could not find <select> object during 'deselect'. Something is broken... Please report with a Github issue for seeking help or fix it yourself...")}deselectAll(){let e=o.findElement("better-nice-select",this);if(!e)return void console.error("Could not find <select> object during 'deselectAll'. Something is broken... Please report with a Github issue for seeking help or fix it yourself...");let t=e.nextElementSibling.querySelectorAll(".better-nice-select .delete-list li button");for(let e of t)e.click()}destroy(){let e=o.findElement("better-nice-select",this);e?(e.nextElementSibling.remove(),e.removeAttribute("hidden"),o.remove(e,"better-nice-select")):console.error("Could not find <select> object during 'destroy'. Something is broken... Please report with a Github issue for seeking help or fix it yourself...")}show(){let e=o.findElement("better-nice-select",this);e?this.animation?(e.nextElementSibling.classList.remove("fade-out-down"),e.nextElementSibling.classList.add("fade-in-down")):e.nextElementSibling.style.opacity="1":console.error("Could not find <select> object during 'show'. Something is broken... Please report with a Github issue for seeking help or fix it yourself...")}hide(){let e=o.findElement("better-nice-select",this);e?this.animation?(e.nextElementSibling.classList.remove("fade-in-down"),e.nextElementSibling.classList.add("fade-out-down")):e.nextElementSibling.style.opacity="0":console.error("Could not find <select> object during 'hide'. Something is broken... Please report with a Github issue for seeking help or fix it yourself...")}open(...e){let t=o.findElement("better-nice-select",this);if(!t)return void console.error("Could not find <select> object during 'open'. Something is broken... Please report with a Github issue for seeking help or fix it yourself...");E(this,s,"m",y).call(this,t),E(this,s,"m",b).call(this);let n=document.querySelector(".better-nice-select-overlay .search-container input");e.length>0?(n.value=e[0],n.dispatchEvent(new Event("input"))):n.value="",n.focus()}},k={formatSearch:()=>"Zoekopdracht...",formatHelpForTagging:()=>"Om uw eigen tags te maken, focust u zich op het invoerveld en klikt u op een van de volgende knoppen om het object te maken:",formatAlertOptiongroups:()=>"Een ogenblik geduld...\nDe optiegroepen worden nog steeds geladen...",formatLoadingMessage:()=>"Bezig met laden",formatCheckingMessage:()=>"Controleren"};return A["nl-NL"]=A.nl=k,w.locale="nl-NL",t})()));